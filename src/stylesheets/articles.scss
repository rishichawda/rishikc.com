@import "colors.scss";
@import "mixins.scss";

main.main-container {
  .article-list-header {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
  }

  section {
    margin-top: var(--space-s-m);
    .article-list {
      list-style: none;
      padding-inline: 0;
      /*
      min-height to viewport height is to avoid any
      stagger/jerky UI. remove it and see for yourself.
      this makes it look good + lighthouse reports happy.
      */
      min-height: 100vh;

      &-item {
        padding: var(--space-3xs-2xs) var(--space-2xs-s);
        margin-bottom: var(--space-xs-m);

        &-header {
          display: flex;
          flex-direction: row;
          align-items: center;
          justify-content: space-between;

          &-content {
            display: flex;
            flex-direction: column;

            &-title {
              font-size: var(--step-3);
              margin: var(--space-2xs-xs) 0 !important;
              margin-top: 0 !important;
              width: 100%;
              display: inline-flex;
              font-weight: 400;
            }

            &-tags {
              display: inline-flex;
              margin-bottom: var(--space-s);
            }
          }

          &-info {
            display: inline-flex;
            align-items: center;
            align-self: start;
            font-size: var(--step-0);
          }
        }

        &-details {
          font-size: var(--step-1);
          line-height: 1.9;
          margin-top: 0;
          display: -webkit-box;
          -webkit-box-orient: vertical;
          -webkit-line-clamp: 3;
          overflow: hidden;
        }

        a {
          position: relative;

          &::before {
            content: "";
            position: absolute;
            width: 3px;
            height: 0;
            left: -11px;
            top: 50%;
            transform: translateY(-50%);
            background-color: $link-highlight-color;
            transition: all 0.2s ease-in-out;
            will-change: height opacity;
            opacity: 0;
          }

          &:hover {
            &::before {
              transform: translateY(-50%);
              opacity: 1;
              height: 100%;
            }
          }
        }
      }
    }
  }
}

.article-list-search-info-tags {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  max-width: 70%;
  & > span {
    padding: 15px 2.5px;
    & > small {
      cursor: pointer;
    }
  }
  p {
    margin: 0;
    & > small {
      cursor: pointer;
      font-style: italic;
      color: $link-highlight-color;
    }
  }
}

// List animation
.article-list {
  & > .hide-item {
    animation: fade-out 0.6s forwards;
  }

  & > .show-item {
    animation: fade-in 0.6s forwards;
  }
}

@keyframes fade-in {
  0% {
    opacity: 0;
    overflow: hidden;
    padding: 0;
    margin: 0;
    max-height: 0;
  }

  100% {
    opacity: 1;
    overflow: hidden;
    padding: var(--space-3xs-2xs) var(--space-2xs-s);
    margin-bottom: var(--space-xs-m);
    max-height: fit-content;
  }
}

@keyframes fade-out {
  from {
    opacity: 1;
    overflow: hidden;
    padding: var(--space-3xs-2xs) var(--space-2xs-s);
    margin-bottom: var(--space-xs-m);
    max-height: fit-content;
  }

  to {
    opacity: 0;
    overflow: hidden;
    padding: 0;
    margin: 0;
    max-height: 0;
  }
}
